## فاكر HTTP/2؟

مواصفة HTTP/2 [RFC 7540](https://httpwg.org/specs/rfc7540.html) اتنشرت في مايو 2015 والبروتوكول ده بقى مطبق ومستخدم على نطاق واسع على الإنترنت والويب.

في أوائل 2018، تقريباً 40% من أول 1000 موقع ويب بيستخدموا HTTP/2، حوالي 70% من كل طلبات HTTPS اللي Firefox بيعملها بيجيلها ردود HTTP/2، وكل المتصفحات والسيرفرات والproxies الكبيرة بتدعمه.

HTTP/2 عالج مشاكل كتيرة في HTTP/1 ومع دخول النسخة التانية من HTTP المستخدمين بطلوا يحتاجوا يستخدموا workarounds كتيرة. بعضها كان صعب جداً على مطوري الويب.

واحدة من أهم ميزات HTTP/2 إنه بيستخدم multiplexing، يعني streams منطقية كتيرة بتتبعت على نفس TCP connection الفيزيائي. ده بيخلي حاجات كتيرة أحسن وأسرع. بيخلي congestion control يشتغل أحسن، بيخلي المستخدمين يستخدموا TCP أحسن وبالتالي يملوا الbandwidth صح، بيخلي TCP connections تعيش أكتر - وده كويس عشان توصل للسرعة الكاملة أكتر من الأول. ضغط الHeaders بيخليه يستخدم bandwidth أقل.

مع HTTP/2، المتصفحات عادة بتستخدم TCP connection *واحد* لكل host بدل *ستة* زي الأول. في الحقيقة، تقنيات connection coalescing و "desharding" المستخدمة مع HTTP/2 ممكن تقلل عدد connections أكتر من كده حتى.

HTTP/2 حل مشكلة HTTP head of line blocking، اللي كانت بتخلي الclients تستنى أول request في الصف يخلص قبل ما التاني يطلع.

مثال مصري: فكر في HTTP/2 زي محطة بنزين جديدة فيها طلمبة واحدة بس تقدر تملي عربيات كتير في نفس الوقت، بدل من الطلمبات القديمة اللي كانت تملي عربية واحدة بس في المرة الواحدة وباقي العربيات تقف في الطابور تستنى.

![http2 man](../images/h2-man.jpg)