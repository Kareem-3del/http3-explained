# Alt-svc

alternate service (Alt-svc:) header والـ `ALT-SVC` HTTP/2 frame المقابل له مش مصممين خصوصاً لـ QUIC أو HTTP/3. هما جزء من آلية مصممة ومعمولة فعلاً لسيرفر يقول للclient: *"شوف، أنا بشغل نفس الخدمة على HOST ده باستخدام PROTOCOL ده على PORT ده"*. شوف التفاصيل في [RFC 7838](https://tools.ietf.org/html/rfc7838).

Client يستقبل Alt-svc response زي ده ساعتها مُستحسن، لو بيدعم وعايز، يتصل بالhost التاني ده بالتوازي في الbackground - باستخدام البروتوكول المحدد - ولو نجح ينقل عملياته لده بدلاً من الconnection الأولي.

لو الconnection الأولي بيستخدم HTTP/2 أو حتى HTTP/1، السيرفر يقدر يرد ويقول للclient إنه يقدر يتصل تاني ويجرب HTTP/3. ممكن يكون لنفس الhost أو لhost تاني يعرف إزاي يخدم origin ده. المعلومات المديمة في Alt-svc response زي ده عندها expiry timer، بتخلي clients قادرة توجه connections وrequests تالية مباشرة للhost البديل باستخدام البروتوكول البديل المقترح، لفترة معينة.

## مثال

HTTP server يحط `Alt-Svc:` header في رده:

    Alt-Svc: h3=":50781"

ده بيدل إن HTTP/3 متاح على UDP port 50781 في نفس host name اللي اتستخدم عشان نجيب الرد ده.

Client ساعتها يقدر يحاول يعمل QUIC connection للمقصد ده ولو نجح، يكمل يتواصل مع origin زي كده بدلاً من نسخة HTTP الأولية.

مثال مصري: فكر في Alt-svc زي لافتة في محطة القطر بتقولك "في قطر أسرع على الرصيف التاني". انت ممكن تكمل بالقطر اللي راكبه، أو تنزل وتركب الأسرع. السيرفر بيقولك "في HTTP/3 أسرع على port تاني" وانت تختار.