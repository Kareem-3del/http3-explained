# HTTP/3 مقارنة بـ HTTP/2

HTTP/3 مصمم لـ QUIC، اللي هو بروتوكول نقل بيتعامل مع streams بنفسه.

HTTP/2 مصمم لـ TCP، وعلشان كده بيتعامل مع streams في طبقة HTTP.

## أوجه الشبه

البروتوكولين بيقدموا للclients نفس مجموعة الميزات تقريباً.

- البروتوكولين بيقدموا دعم server push

- البروتوكولين عندهم header compression، و QPACK و HPACK شبيهين في التصميم.

- البروتوكولين بيقدموا multiplexing على connection واحد باستخدام streams

## الاختلافات

الاختلافات في التفاصيل وأساساً موجودة بسبب استخدام HTTP/3 لـ QUIC:

- HTTP/3 عنده دعم early data أحسن وأكتر احتمالاً إنه يشتغل بفضل QUIC's 0-RTT handshakes، بينما TCP Fast Open و TLS عادة يبعتوا بيانات أقل وكتير يواجهوا مشاكل.

- HTTP/3 عنده handshakes أسرع بكتير بفضل QUIC مقابل TCP + TLS.

- HTTP/3 مايوجدش في نسخة غير آمنة أو غير مشفرة. HTTP/2 يقدر يتطبق ويتستخدم من غير HTTPS - حتى لو ده نادر على الإنترنت.

- HTTP/2 يقدر يتفاوض مباشرة في TLS handshake مع ALPN extension، بينما HTTP/3 على QUIC فهو محتاج `Alt-Svc:` header response الأول عشان يعلم الclient بالحقيقة دي.

- مواصفة HTTP/3 الأساسية مابتعرفش prioritization بنفسها. طريقة HTTP/2 لل prioritization اتشافت معقدة أوي ومهجورة بواسطة آخر مراجعة لمواصفة HTTP/2 [RFC 9113](https://www.rfc-editor.org/rfc/rfc9113.html). بديل أبسط، Extensible Prioritization Scheme لـ HTTP ([RFC 9218](https://www.rfc-editor.org/rfc/rfc9218.html))، اتنشر منفصل، ويقدر يتستخدم في HTTP/2 و HTTP/3.

مثال مصري: فكر في HTTP/2 زي الأتوبيس الحديث (أحسن من القديم بس لسه على طرق عادية)، وHTTP/3 زي المترو (نفس الخدمة تقريباً بس على سكة حديد أسرع وأكتر كفاءة).